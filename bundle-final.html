<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Engenharia de Usabilidade — Bundle Final</title>
  <style>
:root{--primary:#0078d4;--primary-dark:#005ea6;--bg-overlay:rgba(0,0,0,0.35);--container-bg:rgba(255,255,255,0.98);}
html,body{height:100%;margin:0;font-family:Arial,Helvetica,sans-serif;color:#222}
body{background:linear-gradient(180deg,rgba(0,0,0,0.18),rgba(0,0,0,0.02));padding:20px;}
.container{max-width:760px;margin:28px auto;background:var(--container-bg);border-radius:10px;padding:22px;box-shadow:0 8px 28px rgba(0,0,0,0.08)}
header{display:flex;gap:18px;align-items:center}
header img{width:124px;height:auto;border-radius:6px;flex:0 0 124px}
h1{margin:0;font-size:1.25rem}
form{margin-top:16px}
.row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
input,select,button{width:100%;padding:10px;border:1px solid #d0d0d0;border-radius:6px;font-size:1rem;box-sizing:border-box}
button.primary{background:var(--primary);color:#fff;border:none;cursor:pointer;padding:11px;font-weight:600}
button.primary:hover{background:var(--primary-dark)}
.hidden{display:none}
.small{font-size:.9rem;margin-top:8px}
.small a{color:var(--primary);text-decoration:none}
.msg{margin-top:6px;min-height:1.25em;color:#b33;font-weight:600}
#resumo p{margin:8px 0}
.mt10{margin-top:10px}
  </style>
</head>
<body>
  <div class="container" role="main">
    <header>
      <img id="heroImg" alt="Imagem do congresso" src="" />
      <div>
        <h1>Jerr Company RH — Demonstração</h1>
        <div class="small">Arquivo autônomo (single-file). Os dados são salvos em localStorage nas chaves <code>users</code> e <code>dadosPessoais</code>.</div>
      </div>
    </header>

    <!-- Login -->
    <div id="loginForm">
      <h2>Entrar</h2>
      <div class="row">
        <input id="loginUsuario" placeholder="Usuário" />
        <input id="loginSenha" type="password" placeholder="Senha" />
      </div>
      <div class="mt10">
        <button id="btnEntrar" class="primary">Entrar</button>
        <div id="msgLogin" class="msg" aria-live="polite"></div>
        <p class="small">Não tem conta? <a href="#" id="linkCadastro">Criar conta</a></p>
      </div>
    </div>

    <!-- Cadastro -->
    <div id="cadastroForm" class="hidden">
      <h3>Cadastro</h3>
      <div class="row">
        <input id="usuario" placeholder="Usuário" />
        <input id="senha" type="password" placeholder="Senha" />
      </div>
      <div class="mt10">
        <button id="btnCadastrar" class="primary">Cadastrar</button>
        <div id="msgCadastro" class="msg" aria-live="polite"></div>
        <p class="small"><a href="#" id="linkVoltarLogin">Voltar ao login</a></p>
      </div>
    </div>

    <!-- Dados Pessoais -->
    <div id="formDados" class="hidden">
      <h3>Dados Pessoais</h3>
      <div class="row">
        <input id="nome" placeholder="Nome completo" />
        <input id="endereco" placeholder="Endereço" />
      </div>
      <div class="row">
        <input id="numero" placeholder="Número" />
        <input id="cep" placeholder="CEP" />
      </div>
      <div class="row">
        <input id="email" type="email" placeholder="E-mail" />
        <select id="cargo"><option value="">Selecione o cargo</option><option>Gerente</option><option>Administrativo</option><option>Colaborador</option></select>
      </div>
      <div class="mt10">
        <button id="btnSalvarDados" class="primary">Salvar Dados</button>
        <div id="msgDados" class="msg" aria-live="polite"></div>
      </div>
    </div>

    <div id="resumo" class="hidden" aria-live="polite"></div>
  </div>

  <script>
  // base64 da imagem embutida (lido de congresso_fold.b64)
  const IMG_B64 = `
/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsK
CwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQU
FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCAGeAuwDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9Tz/q
... (base64 completo inserido aqui) ...
`;
  // remove quebras e monta src
  document.getElementById('heroImg').src = 'data:image/jpeg;base64,' + IMG_B64.replace(/\s+/g,'');

  // --- script inlined ---
  const loginForm = document.getElementById('loginForm');
  const cadastroForm = document.getElementById('cadastroForm');
  const formDados = document.getElementById('formDados');
  const resumo = document.getElementById('resumo');

  const loginUsuario = document.getElementById('loginUsuario');
  const loginSenha = document.getElementById('loginSenha');
  const usuarioInput = document.getElementById('usuario');
  const senhaInput = document.getElementById('senha');
  const nomeInput = document.getElementById('nome');
  const enderecoInput = document.getElementById('endereco');
  const numeroInput = document.getElementById('numero');
  const cepInput = document.getElementById('cep');
  const emailInput = document.getElementById('email');
  const cargoSelect = document.getElementById('cargo');
  const btnEntrar = document.getElementById('btnEntrar');
  const btnCadastrar = document.getElementById('btnCadastrar');
  const btnSalvarDados = document.getElementById('btnSalvarDados');
  const linkCadastro = document.getElementById('linkCadastro');
  const linkVoltarLogin = document.getElementById('linkVoltarLogin');
  const msgLogin = document.getElementById('msgLogin');
  const msgCadastro = document.getElementById('msgCadastro');
  const msgDados = document.getElementById('msgDados');

  const show = el => el && el.classList.remove('hidden');
  const hide = el => el && el.classList.add('hidden');
  const clearFields = inputs => inputs.forEach(i => i && (i.value = ''));
  const setMsg = (el, text, isError = true) => { if(!el) return; el.textContent = text||''; el.style.color = isError? '#b33':'#0a7a2a'; };

  document.addEventListener('DOMContentLoaded', () => {
    if(btnEntrar) btnEntrar.addEventListener('click', login);
    if(btnCadastrar) btnCadastrar.addEventListener('click', cadastrar);
    if(btnSalvarDados) btnSalvarDados.addEventListener('click', salvarDados);
    if(linkCadastro) linkCadastro.addEventListener('click', e => { e.preventDefault(); showCadastro(); });
    if(linkVoltarLogin) linkVoltarLogin.addEventListener('click', e => { e.preventDefault(); voltarLogin(); });

    show(loginForm); hide(cadastroForm); hide(formDados); hide(resumo);
    const saved = JSON.parse(localStorage.getItem('dadosPessoais')||'null');
    if(saved) setMsg(msgLogin,'Dados anteriores encontrados no dispositivo (apenas demonstração). Faça login para editar.',false);
  });

  function isEmailValid(mail){ return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(mail||''); }
  function cadastrar(e){ e&&e.preventDefault(); setMsg(msgCadastro,''); const usuario=(usuarioInput.value||'').trim(); const senha=(senhaInput.value||'').trim(); if(!usuario||!senha) return setMsg(msgCadastro,'Preencha usuário e senha.'); const users=JSON.parse(localStorage.getItem('users')||'[]'); if(users.some(u=>u.usuario===usuario)) return setMsg(msgCadastro,'Usuário já existe. Escolha outro nome.'); users.push({usuario,senha}); localStorage.setItem('users',JSON.stringify(users)); setMsg(msgCadastro,'Cadastro realizado com sucesso. Faça login.',false); clearFields([usuarioInput,senhaInput]); setTimeout(()=>{voltarLogin(); setMsg(msgCadastro,'');},900); }
  function login(e){ e&&e.preventDefault(); setMsg(msgLogin,''); const user=(loginUsuario.value||'').trim(); const pass=(loginSenha.value||'').trim(); if(!user||!pass) return setMsg(msgLogin,'Preencha usuário e senha.'); const users=JSON.parse(localStorage.getItem('users')||'[]'); const match=users.find(u=>u.usuario===user&&u.senha===pass); if(match){ setMsg(msgLogin,''); clearFields([loginSenha]); hide(loginForm); show(formDados); const dados=JSON.parse(localStorage.getItem('dadosPessoais')||'null'); if(dados){ nomeInput.value=dados.nome||''; enderecoInput.value=dados.endereco||''; numeroInput.value=dados.numero||''; cepInput.value=dados.cep||''; emailInput.value=dados.email||''; cargoSelect.value=dados.cargo||''; setMsg(msgDados,'Dados carregados do dispositivo. Edite e clique em Salvar.',false); } } else { setMsg(msgLogin,'Usuário ou senha inválidos. Se não tem conta, clique em Criar conta.'); } }
  function salvarDados(e){ e&&e.preventDefault(); setMsg(msgDados,''); const nome=(nomeInput.value||'').trim(); const endereco=(enderecoInput.value||'').trim(); const numero=(numeroInput.value||'').trim(); const cep=(cepInput.value||'').trim(); const email=(emailInput.value||'').trim(); const cargo=(cargoSelect.value||'').trim(); if(!nome||!endereco||!numero||!cep||!email||!cargo) return setMsg(msgDados,'Preencha todos os campos.'); if(!isEmailValid(email)) return setMsg(msgDados,'E-mail inválido.'); const dados={nome,endereco,numero,cep,email,cargo,data:new Date().toISOString()}; localStorage.setItem('dadosPessoais',JSON.stringify(dados)); setMsg(msgDados,'Dados salvos com sucesso.',false); resumo.innerHTML=`<h3>Resumo</h3><p><strong>Nome:</strong> ${escapeHtml(nome)}</p><p><strong>Endereço:</strong> ${escapeHtml(endereco)}, ${escapeHtml(numero)}</p><p><strong>CEP:</strong> ${escapeHtml(cep)}</p><p><strong>E-mail:</strong> ${escapeHtml(email)}</p><p><strong>Cargo:</strong> ${escapeHtml(cargo)}</p><p class="small">Dados salvos localmente no navegador (apenas demonstração).</p>`; hide(formDados); show(resumo); }
  function showCadastro(){ hide(loginForm); show(cadastroForm); setMsg(msgLogin,''); setMsg(msgCadastro,''); }
  function voltarLogin(){ hide(cadastroForm); hide(formDados); hide(resumo); show(loginForm); setMsg(msgDados,''); setMsg(msgCadastro,''); }
  function escapeHtml(s){ return String(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#39;'); }
  </script>
</body>
</html>
